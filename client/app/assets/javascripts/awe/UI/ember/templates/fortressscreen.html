<!-- fortress specific templates -->

<script type="text/x-handlebars" data-template-name="fortress-screen">
<div class="fortress-screen settlement-screen">
  <div class="fortress-picture">
    {{#if "settlement"}}
      {{#if "haveSlots"}}
        
        {{view AWE.UI.Ember.BuildingSlotView  classNames="tower tower-left small-building" slotBinding="leftTower" settlementBinding="settlement"}}
        {{view AWE.UI.Ember.BuildingSlotView  classNames="tower tower-right small-building" slotBinding="rightTower" settlementBinding="settlement"}}
        {{view AWE.UI.Ember.BuildingSlotView  classNames="wall small-building" slotBinding="wall" settlementBinding="settlement"}}
      {{/if}}
      {{#if queues }}
        {{view AWE.UI.Ember.ConstructionQueueView controllerBinding="controller" classNames="queue-list" queuesBinding="queues.collection"}}
      {{/if}}

      {{#if shouldDisplaySettlementSwitch}}
        <div class="settlement-switch previous"  {{action  nextSettlementPressed target="controller"}}>&nbsp;</div>
        <div class="settlement-switch next"      {{action  previousSettlementPressed target="controller"}}>&nbsp;</div>  
      {{/if}}
      {{view AWE.UI.Ember.SettlementInfoBoxView classNames="settlement-info-box fortress" settlementBinding="settlement"}}

      {{#if selectedSlot}}
        {{#if selectedSlot.building }}
          {{view AWE.UI.Ember.BuildingAnnotationView classNames="small-building" controllerBinding="controller" slotBinding="selectedSlot" buildingBinding="selectedSlot.building"}}
        {{else}}
          {{view AWE.UI.Ember.SelectBuildingNewDialog controllerBinding="controller" slotBinding="selectedSlot"}}
        {{/if}}
      {{/if}}
    
      {{#if "hoveredBuildingSlotView" }}
        {{view AWE.UI.Ember.ToolTipView templateName="building-slot-tooltip" classNames="mouse-over" mouseXBinding="hoveredBuildingSlotView.mouseX" mouseYBinding="hoveredBuildingSlotView.mouseY" buildingBinding="hoveredBuildingSlotView.slot.building" buildingSlotViewBinding="hoveredBuildingSlotView" }}
      {{/if}}    
    {{/if}}
  </div>
</div>
</script>




