<script type="text/x-handlebars" data-template-name="alliance-victory-view">
  <div class="alliance-victory">
    <h1>{{t alliance.progress.header}}</h1>
    <p>{{t alliance.progress.description}}</p>
    {{view AWE.UI.Ember.AllianceVictoryProgressDominationView allianceBinding="alliance" controllerBinding="controller"}}
  </div>
</script>

<script type="text/x-handlebars" data-template-name="alliance-victory-progress-domination-view">
  <div class="alliance-victory-progress-domination">
    <h2>{{ local progress.victoryType.name }}</h2>
    <p>{{ local progress.victoryType.description }}</p>
    <p>{{t alliance.progress.requiredRegions}}: {{requiredRegions}} {{t general.of}} {{AWE.GS.game.roundInfo.regions_count}} ({{formatAsPercent requiredRegionsRatio}}), {{t alliance.progress.requiredDuration}}: {{victoryType.condition.duration}} {{t general.days}}</p>
  </div>
  
  <div style="width:100%; height: 20px; position: relative; background: #eef; border: 1px solid black; margin-top: 70px; margin-bottom: 80px;">
    <div style="position:absolute; top: 0; left: 0; width: 100px; height: 50px; margin-top: -30px; border-left: 1px solid black; margin-left: -1px; padding-left: 3px;">
      <div style="height: 30px; font-size: 14px;">{{t general.start}}</div>
      <div style="font-size: 14px;">0</div>
    </div>
    <div style="position:absolute; top: 0; right: 25%; width: 100px; height: 50px; margin-top: -30px; border-right: 1px solid black; margin-right: -1px; padding-right: 3px;">
      <div style="height: 30px; font-size: 14px; text-align: right;">{{t alliance.progress.criteriaFulfilled}}</div>
      <div style="font-size: 14px; text-align: right;">{{requiredRegions}}</div>
    </div>
    <div style="position:absolute; top: 0; right: 0; width: 200px; height: 50px; margin-top: -30px; border-right: 1px solid black; margin-right: -1px; padding-right: 3px;">
      <div style="height: 30px; font-size: 14px; text-align: right;">{{t alliance.progress.criteriaHeld}}</div>
    {{#if progress.fulfilled }}
      <div style="font-size: 14px; text-align: right;">{{t alliance.progress.victoryAt}} {{formatDatetime endDate}}</div>
    {{else}}
      <div style="font-size: 14px; text-align: right;">{{t alliance.progress.victoryAfter}} {{victoryType.condition.duration}} {{t alliance.progress.days}}</div>
    {{/if}}
    </div>
    {{#if progress.fulfilled }}
      <div {{bindAttr style="styleFulfilled" }}>
        <div style="height: 20px; margin-top: 60px; padding-right: 3px;">
          <b>{{daysRemaining}} {{t alliance.progress.remainingDays}}</b>
        </div>
      </div>
    {{else}}
      <div {{bindAttr style="styleNotFulfilled" }}>
        <div style="height: 20px; margin-top: 60px; padding-left: 3px;">
          <b>{{progress.fulfillment_count}}</b>
        </div>
      </div>
    {{/if}}
    {{view AWE.UI.Ember.AllianceVictoryProgressOtherAllianceView progressBinding="progress.progressLeaderFirst"  controllerBinding="controller"}}
    {{view AWE.UI.Ember.AllianceVictoryProgressOtherAllianceView progressBinding="progress.progressLeaderSecond" controllerBinding="controller"}}
    {{view AWE.UI.Ember.AllianceVictoryProgressOtherAllianceView progressBinding="progress.progressLeaderThird"  controllerBinding="controller"}}
  </div>
</script>

<script type="text/x-handlebars" data-template-name="alliance-victory-progress-other-alliance-view">
    {{#if progress.fulfilled}}
    <div {{bindAttr style="styleFulfilled1" }}>
      <div {{bindAttr style="styleFulfilled2" }}>
        {{progress.pos}}. {{progress.alliance_name}} ({{progress.daysRemaining}}{{t alliance.progress.remainingDays}})
      </div>
    </div>
    {{else}}
    <div {{bindAttr style="styleNotFulfilled1" }}>
      <div {{bindAttr style="styleNotFulfilled2" }}>
        {{progress.pos}}. {{progress.alliance_name}} ({{progress.fulfillment_count}})
      </div>
    </div>
    {{/if}}
</script>