<script type="text/x-handlebars" data-template-name="alliance-victory-view">
  <div class="alliance-victory">
    <h1>{{t alliance.progress.header}}</h1>
    <p>{{t alliance.progress.description}}</p>
    {{view AWE.UI.Ember.AllianceVictoryProgressDominationView allianceBinding="alliance" controllerBinding="controller"}}
  </div>
</script>

<script type="text/x-handlebars" data-template-name="alliance-victory-progress-domination-view">
  <div class="alliance-victory-progress-domination">
    <h2>{{ local progress.victoryType.name }}</h2>
    <p>{{ local progress.victoryType.description }}</p>
    <p>{{t alliance.progress.requiredRegions}}: {{requiredRegions}} {{t general.of}} {{AWE.GS.game.roundInfo.regions_count}} ({{formatAsPercent victoryType.condition.required_regions_ratio}}), {{t alliance.progress.requiredDuration}}: {{victoryType.condition.duration}} {{t general.days}}</p>
  </div>
  
  <div style="width:100%; height: 20px; position: relative; background: #eef; border: 1px solid black; margin-top: 70px; margin-bottom: 80px;">
    <div style="position:absolute; top: 0; left: 0; width: 100px; height: 50px; margin-top: -30px; border-left: 1px solid black; margin-left: -1px; padding-left: 3px;">
      <div style="height: 30px; font-size: 14px;">Start</div>
      <div style="font-size: 14px;">0</div>
    </div>
    <div style="position:absolute; top: 0; right: 25%; width: 100px; height: 50px; margin-top: -30px; border-right: 1px solid black; margin-right: -1px; padding-right: 3px;">
      <div style="height: 30px; font-size: 14px; text-align: right;">Kriterium erf√ºllt</div>
      <div style="font-size: 14px; text-align: right;">{{requiredRegions}}</div>
    </div>
    <div style="position:absolute; top: 0; right: 0; width: 200px; height: 50px; margin-top: -30px; border-right: 1px solid black; margin-right: -1px; padding-right: 3px;">
      <div style="height: 30px; font-size: 14px; text-align: right;">Kriterium gehalten</div>
    {{#if fulfilled }}
      <div style="font-size: 14px; text-align: right;">Sieg am {{formatDatetime endDate}}</div>
    {{else}}
      <div style="font-size: 14px; text-align: right;">Sieg nach {{victoryType.condition.duration}} Tagen</div>
    {{/if}}
    </div>
    {{#if fulfilled }}
      <div style="position:absolute; top: 0px; right: {{unbound fulfillmentPercentage}}; width: 200px; height: 60px; margin-top: 0; border-right: 2px solid black; margin-right: -1px; text-align:right;">
        <div style="height: 20px; margin-top: 40px; padding-right: 3px;">
          <b>{{daysRemaining}} {{t alliance.progress.remainingDays}}</b>
        </div>
      </div>
    {{else}}
      <div style="position:absolute; top: 0px; left: {{unbound fulfillmentPercentage}}; width: 200px; height: 60px; margin-top: 0; border-left: 2px solid black; margin-left: -1px;">
        <div style="height: 20px; margin-top: 40px; padding-left: 3px;">
          <b>{{progress.fulfillment_count}}</b>
        </div>
      </div>
    {{/if}}
  </div>
  
</script>
