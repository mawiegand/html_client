<script type="text/x-handlebars" data-template-name="quest-list-view">
  <div class="modal-dialog-background"></div>
  <div class="center-helper">
    <div class="modal-dialog-pane quest-list-view">

      <h1>{{t tutorial.questList}}</h1>
      
      <div class="quest-list-header">
        <div class="quest-list-item-nr">{{t general.nr}}</div>
        <div class="quest-list-item-name">{{ t tutorial.name }}</div>
        <div class="quest-list-item-status">{{ t tutorial.status }}</div>
        <div class="quest-list-item-reward"></div>
        <div class="quest-list-item-show"></div>
      </div>

      {{#each questStates}}
        {{view AWE.UI.Ember.QuestListEntryView questStateBinding="this" class="quest-list-item"}}</td>
      {{/each}}
            
      <div class="icon-button ok-button" {{action "okPressed"}}>Close</div>
      
    </div>
  </div>
</script>

<script type="text/x-handlebars" data-template-name="quest-list-entry-view">
        <div class="quest-list-item-nr">#{{questState.questNr}}</div>
        <div class="quest-list-item-name">{{local questState.questName}}</div>
        <div class="quest-list-item-status">{{questState.statusString}}</div>
        <div class="quest-list-item-reward">
            {{#if questState.finished}}
              {{#if questState.redeeming}}
                {{view AWE.UI.Ember.WheelOrValueView valueBinding="false"}}
              {{else}}
                <div class="simple-button" {{action "redeemButtonPressed" }}>{{t tutorial.rewardLink }}</div>
              {{/if}}
            {{/if}}
          </div>
        <div class="quest-list-item-show"><div class="simple-button" {{action "showQuestInfoPressed" }}>{{t tutorial.showQuestLink }}</div></div>
</script>


<script type="text/x-handlebars" data-template-name="quest-view">
      <p class="citation">
      {{#unless questState.finished}}
        {{local quest.flavour}}
      {{else}}
        {{local quest.reward_flavour}}
      {{/unless}}
      </p>
      <h3>
        {{#unless questState.finished}}
          {{t tutorial.quest.start.task}}
        {{else}}
          {{t tutorial.quest.end.task}}
        {{/unless}}
        {{local quest.task}}
      </h3>
      {{#if questState.finished}}
        {{local quest.reward_text}}
      {{else}}
        {{local quest.description}}
      {{/if}}

      {{#if quest.reward_tests.textbox_test }}
        {{#unless finished}}
          <div>
            {{view Ember.TextField class="quest-answer-field" placeholder="answer" type="text" valueBinding="answerText"}}
            {{#if checking}}
              {{view AWE.UI.Ember.WheelOrValueView valueBinding="false"}}
            {{else}}
              <div class="simple-button" {{action "checkQuestAnswerPressed"}} >{{t tutorial.answerQuestLink }}</div>
            {{/if}}
          </div>
          {{#if error}}
            <p>{{t tutorial.quest.error}}</p>
          {{/if}} 
        {{/unless}}
      {{/if}}
</script>


<script type="text/x-handlebars" data-template-name="quest-dialog">
  <div class="modal-dialog-background"></div>
  <div class="center-helper">
    <div class="modal-dialog-pane quest-dialog">

      <div {{bindAttr class="advisor"}}></div>
      <h1>{{header}}</h1>
      {{view AWE.UI.Ember.QuestView questBinding="quest" questStateBinding="questState"}}
        
      {{#if quest.rewards}}
      <hr />
      <div>
        {{#if finished}}
        <div class="quest-redeem-button">
          {{#if redeeming}}
            {{view AWE.UI.Ember.WheelOrValueView valueBinding="false"}}
          {{else}}
            <div class="simple-button" {{action "redeemButtonPressed" }}>{{t tutorial.redeemNow }}</div>
          {{/if}}
        </div>
        {{/if}}
        <div class="quest-rewards">      
        {{#if quest.rewards.resource_rewards}}
          {{#each quest.rewards.resource_rewards}}
            <div class="quest-reward-item">
              <div class="quest-reward-item-image">
                <span class="resource-icon {{unbound this.resource}}"}}>&nbsp;</span>
              </div>
              <div class="quest-reward-item-amount">{{this.amount}}</div>
            </div>
          {{/each}}
        {{/if}}
        {{#if quest.rewards.unit_rewards}}
          {{#each quest.rewards.unit_rewards}}
            <div class="quest-reward-item">
              <div class="quest-reward-item-image">HHH</div>
              <div class="quest-reward-item-amount">{{this.amount}}</div>
            </div>
          {{/each}}
        {{/if}}
        </div>
      </div>
      {{/if}}
      <div class="icon-button ok-button" {{action "okPressed"}}>Close</div>
      
    </div>
  </div>
</script>

<script type="text/x-handlebars" data-template-name="quest-unit-rewards-view">
  {{#each units }}
    {{view AWE.UI.Ember.QuestUnitRewardView unitBinding="this"}}
  {{/each}}
</script>

<script type="text/x-handlebars" data-template-name="quest-unit-reward-view">
  <div>
    <div class="quest-reward-name">{{unitName}}</div>
    <div class="quest-reward-amount">{{unit.amount}}</div>
  </div>
</script>





