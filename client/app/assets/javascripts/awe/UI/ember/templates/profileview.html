<script type="text/x-handlebars" data-template-name="tab-view">

  <ul class="tab-bar">
    {{#each tabViews}}
      {{#view AWE.UI.Ember.TabButtonView keyBinding="key" titleBinding="title" }}{{title}}{{/view}}
    {{/each}}
  </ul>  
    
  <div class="tab-content">
    {{view Ember.ContainerView currentViewBinding="currentView"}}
  </div>

</script>

<script type="text/x-handlebars" data-template-name="character-profile-view">
  <div class="modal-dialog-background z-layer-3"></div>
  <div class="center-helper">
    <div class="modal-dialog-pane z-layer-4 character-profile-view">
      {{view AWE.UI.Ember.AllianceBannerView allianceBinding="alliance" classNames="alliance-banner" width=120 height=120}}

      <h1>{{t profile.youAre }}: {{character.name}}</h1>
      
      {{view AWE.UI.Ember.ProfileTabView characterBinding="character" allianceBinding="alliance" }}

      <hr/>

      <div class="icon-button ok-button" {{action "closePressed"}}>{{t general.close}}</div>
    </div>
  </div>
</script>

<script type="text/x-handlebars" data-template-name="character-customization-view">

  <p>Hier kannst Du Deine Erscheinung als Halbgott anpassen. Im Moment sind Dein Name und
     Dein Geschlecht wählbar, mit denen Du im Spiel auftreten möchtest. 
     Später werden weitere Individualisierungen hinzukommen.</p>
     
  <hr/>

  {{#if firstTwoNameChange}}
    <h2>{{t profile.customization.chooseName}}</h2>
  {{else}}
    <h2>{{t profile.customization.changeName}}</h2>
  {{/if}}
  <p class="red-color">{{message}}</p>
  <p><b>{{t profile.customization.presentName}}:</b> {{character.name}}
     {{#if changingName }}
       &nbsp;{{view AWE.UI.Ember.WheelOrValueView valueBinding="false"}} {{t general.processing}}
     {{else}} 
       <span class="simple-button" {{action "changeNamePressed"}}>{{#if firstTwoNameChange}}{{t profile.customization.chooseNameCaption}}{{else}}{{t profile.customization.changeNameCaption}} (20 Kröten){{/if}}</span>
     {{/if}}
  </p>      
  <p>{{t profile.customization.nameChangeAdvice}}</p>
  {{#if firstTwoNameChange}}
    <p>{{t profile.customization.nameChangeFreeAdvice}}</p>
  {{else}}
    <p>{{t profile.customization.nameChangeCostAdvice}}</p>      
  {{/if}}
  
  <hr/>
  
  {{#if firstTwoGenderChange}}
    <h2>{{t profile.customization.chooseGender}}</h2>
  {{else}}
    <h2>{{t profile.customization.changeGender}}</h2>
  {{/if}}
    
  <p><b>{{t profile.customization.presentGender}}:</b> {{#if character.female}} weiblich {{else}} männlich {{/if}} 
     {{#if changingGender }}
       &nbsp;{{view AWE.UI.Ember.WheelOrValueView valueBinding="false"}} {{t general.processing}}
     {{else}} 
       <span class="simple-button" {{action "changeGenderPressed"}}>{{#if firstTwoGenderChange}}{{t profile.customization.chooseGenderCaption}}{{else}}{{t profile.customization.changeGenderCaption}} (20 Kröten){{/if}}</span>
     {{/if}}  
  </p>
  {{#if firstTwoGenderChange}}
    <p>{{t profile.customization.genderChangeFreeAdvice}}</p>
  {{else}}
    <p>{{t profile.customization.genderChangeCostAdvice}}</p>      
  {{/if}}

</script>


<script type="text/x-handlebars" data-template-name="character-profile-info-view">
  
{{#if showProgressBar }}  
  
  <div style="width:100%; height: 20px; position: relative; background: #EEF; border: 1px solid black; margin-top: 70px; margin-bottom: 60px;">
    <div style="position:absolute; top: 0; left: 0; width: 100px; height: 90px; margin-top: -70px; border-left: 1px solid black; margin-left: -1px; padding-left: 3px;">
      <div style="height: 70px; font-size: 14px;">Beginn</div>
      <div>0 XP</div>
    </div>
    {{#each nextMundaneRanks}}
      <div style="position:absolute; top: 0; right: {{unbound position}}; width: 200px; height: 90px; margin-top: -70px; border-right: 1px solid black; margin-right: -1px; text-align:right;">
        <div style="height: 70px; padding-right: 3px; font-size:14px;">
          {{local rule.name}}<br/>
          {{#if rule.settlement_points}}
            +{{rule.settlement_points}} Siedlungspunkt
          {{/if}}
        </div>
        <div style="padding-right: 3px;">{{rule.exp}} XP</div>
      </div>
    {{/each}}
    {{#if progressBarPosition}}
      <div style="position:absolute; top: 0px; right: {{unbound progressBarPosition}}; width: 200px; height: 56px; margin-top: 0; border-right: 2px solid black; margin-right: -1px; text-align:right;">
        <div style="height: 20px; margin-top: 36px; padding-right: 3px;">
          <b>{{character.name}}</b>
        </div>
      </div>
    {{/if}}
    {{#each friendProgress}}
      <div style="position:absolute; top: 0px; right: {{unbound position}}; width: 200px; height: 32px; margin-top: 0; border-right: 1px solid #888; margin-right: -1px; text-align:right; font-size: 11px; color: #888;">
        <div style="height: 11px; margin-top: 21px; padding-right: 3px;">
          {{name}}
        </div>
      </div>
    {{/each}}
  </div>
  
{{/if }}

  <p><b>Weltlicher Rang {{ character.mundane_rank_numeric }}:</b> <em>{{local character.mundaneTitle.name }}</em>.<br/>
     <b>Geistlicher Rang {{ character.sacred_rank_numeric }}:</b> <em>{{local character.sacredTitle.name }}</em>. Derzeit ist kein Aufstieg möglich.
  </p>

  
  <p>Ein Aufstieg im weltlichen Rang gibt mehr Siedlungs- und Skillpunkte. 
     Ein Aufstieg im geistlichen Rang ist Voraussetzung für Aufstiege im
     weltlichen Rang und erhöht Dein Verständnis des Übernatürlichen.</p>   
     
  <p><b>Erfahrung:</b> {{ character.exp }}. Deine Erfahrung steigt, indem Du baust und kämpfst.<br/>
     <b>Siedlungspunkte:</b> {{ character.settlement_points_used }} / {{ character.settlement_points_total }} (verwendet/insgesamt)
  </p>
</script>


<script type="text/x-handlebars" data-template-name="settings-view">
  <h2>{{t profile.customization.changePasswordCaption}}</h2>
  <p>{{t profile.customization.changePasswordAdvice}}</p>
  <p>   
     {{view Ember.TextField type="password" placeholder="Passwort" valueBinding="password" }}
     {{view Ember.TextField type="password" placeholder="Passwortbestätigung" valueBinding="passwordConfirmation" }}
     
     {{#if changingPassword }}
       &nbsp;{{view AWE.UI.Ember.WheelOrValueView valueBinding="false"}} {{t general.processing}}
     {{else}} 
       <span class="simple-button" {{action "changePasswordPressed"}}>{{t profile.customization.changePasswordButton}}</span>
     {{/if}}  
  </p>
  <p class="red-color">{{changePasswordMessage}}</p>
  
  <h2>Systemzeit</h2>
  
  <p>Approximierte Serverzeit: {{ serverTime }}<br/>
     Lokale Rechneruhr: {{ localTime }}<br/>
     Differenz: {{ formatDuration timeLag }} &nbsp;
    {{#if isLagZero }}
      <b>Perfekt!</b>
    {{else}}
      {{#if isLagTolerable}}
        <b>Diese Zeitdifferenz ist tolerabel.</b>
      {{else}}
        <b>Bitte stelle Deine Rechneruhr auf die korrekte Uhrzeit</b> oder schalte den automatischen Abgleich mit der Internetzeit an, sofern Dein 
        Betriebssystem diese Möglichkeit bietet. Die Reaktivität des Spiels und Deine Nutzungserfahrung würden dadurch deutlich verbessert.
      {{/if}}
    {{/if}}
  </p>
  
  
</script>

