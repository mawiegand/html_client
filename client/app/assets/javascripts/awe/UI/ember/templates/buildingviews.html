<script type="text/x-handlebars" data-template-name="interactive-building-slot">
{{#if "slot.building"}}
  {{#if slot.building.underConstruction}}
    <div class="level constructing">{{slot.building.level}}</div>
  {{else}}
    {{#if slot.building.underDestruction}}
      <div class="level destructing">{{slot.building.level}}</div>
    {{else}}
      {{view AWE.UI.Ember.BubbleView slotBinding="slot"}}
      <div class="level">{{slot.building.level}}</div>
    {{/if}}
  {{/if}}
{{/if}}
</script>


<script type="text/x-handlebars" data-template-name="building-slot-tooltip">
  <div class="advisor girl"></div>
  {{#if building}}
    <h1 class="slot-tooltip">{{local building.name}} L{{building.level}}</h1>
    <p>
      {{#if building.upgradable}}
        {{t settlement.buildings.tooltip.upgradePossible }}<br/>
        {{#if building.costsOfNextLevel}}
          {{t settlement.buildings.tooltip.costOfNextLevel}} {{t settlement.buildings.level}} {{building.nextLevel}}:
          {{#each building.costsOfNextLevel}}
            <span class="resource-icon {{unbound resourceType.symbolic_id}}" {{bindAttr title="{{local resourceType.name}}"}}>&nbsp;</span>{{amount}} &nbsp;  
          {{/each}}
        {{/if}}
        {{t building.duration}}:&nbsp;{{formatDuration building.productionTimeOfNextLevel}}    
      {{else}}
        {{t settlement.buildings.tooltip.noUpgrade}}
      {{/if}}
    </p>
    <p>{{t settlement.buildings.tooltip.clickToEnter }}</p>
  {{else}}
    <h1 class="slot-tooltip">{{t settlement.buildings.tooltip.empty.heading}}</h1>
    {{#if buildingSlotView.buildingCategoryNames }}
      {{t settlement.buildings.tooltip.empty.categoriesStart }}{{localizedList buildingSlotView.buildingCategoryNames }}{{t settlement.buildings.tooltip.empty.categoriesEnd }}
      {{t settlement.buildings.tooltip.empty.maxLevel }}: {{ buildingSlotView.maxLevel }}.
    {{/if}}
    <p>{{t settlement.buildings.tooltip.empty.advise}}</p>
  {{/if}}
</script>


<script type="text/x-handlebars" data-template-name="bubble">
    <div class="bubble-wrap">
      <div {{bindAttr class=":bubble :hidden bubbleClass"}}>
        <div class="bubble-resource">
          <span class="resource-icon" {{bindAttr title="Bubble"}}></span><span class="bubble-amount">{{bubbleAmount}}</span>
          {{#if xp}}
            <br /><span class="bubble-xp xp-icon"></span><span class="bubble-amount">{{bubbleXP}}</span>
          {{/if}}
        </div>
      </div>
    </div>
</script>
